# CHANGELOG

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).

This file is autogenerated using [release-plz](https://release-plz.dev).

## 2.0.0

[v1.1.2..v2.0.0](https://github.com/tonywu6/mdbookkit/compare/mdbookkit-v1.1.2...mdbook-rustdoc-links-v2.0.0)

`mdbook-rustdoc-links` is now a standalone package. To install the new version, use:

```sh
cargo install mdbook-rustdoc-links
```

If you previously installed via the `mdbookkit` package, you should remove the old
binary:

```sh
cargo uninstall mdbookkit
```

Note that the executable name has changed. You should also update the table name in
`book.toml`:

```diff
- [preprocessor.rustdoc-link]
+ [preprocessor.rustdoc-links]
```

### Added

- Added a ["link report"](/docs/src/rustdoc-links/logging.md#link-report) logging
  feature that prints a summary of all generated links upon build.

- The indexing process now presents more progress updates from rust-analyzer and should
  feel more responsive.

- The preprocessor will emit a warning regarding caches if there are any broken links.
  Broken links cause rust-analyzer to always run since they are always considered
  unseen.

- Diagnostic messages, such as for broken links, now
  [include source locations (file:line:column) when the preprocessor is in logging mode](/docs/src/rustdoc-links/logging.md#output-style).

### Changed

- **mdBook 0.5 is now supported.** See the [official migration guide][mdbook-0.5] for
  more details.
  - mdBook 0.4 is now unsupported, although as of mdBook 0.5.2, the preprocessor can
    still run under mdBook 0.4. There is no guarantee that it will remain compatible in
    the future.

- `MDBOOK_LOG` is now the environment variable to control logging. This variable also
  controls logging in the main `mdbook` program. Previously, the variable was
  ~~`RUST_LOG`~~.
  - Logging is now implemented through `tracing`. The `MDBOOK_LOG` variable therefore
    supports [all syntax supported by `tracing`][tracing_subscriber::filter::EnvFilter].
    See [Logging](/docs/src/rustdoc-links/logging.md) for more information.

- **\[BREAKING\]** The `book.toml` config table for this preprocessor is now
  `[preprocessor.rustdoc-links]`.

- **\[BREAKING\]** The `smart-punctuation` option has been removed. It has no meaningful
  effect on this preprocessor.

### Documented

- Added a dedicated ["Logging"](/docs/src/rustdoc-links/logging.md) page.

<!-- prettier-ignore-start -->
[mdbook-0.5]: https://github.com/rust-lang/mdBook/blob/master/CHANGELOG.md#05-migration-guide
<!-- prettier-ignore-end -->
