[package]
name = "mdbookkit"
publish = true
version = "1.1.2"

edition.workspace = true
rust-version.workspace = true

authors.workspace = true
license.workspace = true
repository.workspace = true

categories = ["command-line-utilities"]
description = "toolkit for mdBook ðŸ“–"
documentation = "https://tonywu6.github.io/mdbookkit/"
keywords = ["mdbook", "documentation", "rust-analyzer", "lsp", "permalink"]
readme = "README.md"

[dependencies]
anyhow = { workspace = true }
chrono = { version = "0.4.40", features = ["clock"], default-features = false }
clap = { workspace = true }
console = { version = "0.16.2" }
indicatif = { version = "0.18.3" }
mdbook-markdown = { workspace = true }
mdbook-preprocessor = { workspace = true }
miette = { workspace = true }
owo-colors = { version = "4.2.0" }
pulldown-cmark-to-cmark = { workspace = true }
serde = { workspace = true }
serde_json = { workspace = true }
tap = { workspace = true }
toml = { workspace = true }
tracing = { workspace = true }
tracing-subscriber = { version = "0.3.22", features = ["env-filter"] }
url = { workspace = true }

cargo-run-bin = { workspace = true, optional = true }
insta = { workspace = true, optional = true }
minijinja = { workspace = true, optional = true }

[features]
_testing = ["dep:cargo-run-bin", "dep:insta", "dep:minijinja"]

[package.metadata.docs.rs]
all-features = true

[package.metadata.binstall]
pkg-url = "{ repo }/releases/download/{ name }-v{ version }/{ name }-{ target }{ archive-suffix }"
