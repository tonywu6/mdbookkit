# CHANGELOG

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).

This file is autogenerated using [release-plz](https://release-plz.dev).

## 2.0.0

[v1.1.2..v2.0.0](https://github.com/tonywu6/mdbookkit/compare/mdbookkit-v1.1.2...mdbook-permalinks-v2.0.0)

`mdbook-permalinks` is now a standalone package. To install the new version, use:

```sh
cargo install mdbook-permalinks
```

If you previously installed via the `mdbookkit` package, you should remove the old
binary:

```sh
cargo uninstall mdbookkit
```

Note that the executable name has changed. You should also update the table name in
`book.toml`:

```diff
- [preprocessor.link-forever]
+ [preprocessor.permalinks]
```

### Added

- The preprocessor now processes URLs that point to the `HEAD` of your repo. You can
  read more about
  [why such URLs instead of paths may be desirable](/docs/src/permalinks/more-ways-to-link.md)
  in the documentation.

- The preprocessor now warns about links pointing to files/directories that are
  gitignored.

### Fixed

- Path-based links that are used in Markdown images are now
  [correctly converted to `raw` URLs instead of `tree` URLs](/docs/src/permalinks/features.md#markdown-images).

### Changed

- **mdBook 0.5 is now supported.** See the [official migration guide][mdbook-0.5] for
  more details.
  - mdBook 0.4 is now unsupported, although as of mdBook 0.5.2, the preprocessor can
    still run under mdBook 0.4. There is no guarantee that it will remain compatible in
    the future.

- `MDBOOK_LOG` is now the environment variable to control logging. This variable also
  controls logging in the main `mdbook` program. Previously, the variable was
  ~~`RUST_LOG`~~.
  - Logging is now implemented through `tracing`. The `MDBOOK_LOG` variable therefore
    supports [all syntax supported by `tracing`][tracing_subscriber::filter::EnvFilter].
    See [Logging](/docs/src/permalinks/logging.md) for more information.

- **\[BREAKING\]** The `book.toml` config table for this preprocessor is now
  `[preprocessor.permalinks]`.

### Documented

- Added a ["More ways to link"](/docs/src/permalinks/more-ways-to-link.md) page that
  clarifies the different types of linking supported by this preprocessor, as well as
  when to use which.

- Added a dedicated ["Logging"](/docs/src/permalinks/logging.md) page.

<!-- prettier-ignore-start -->
[mdbook-0.5]: https://github.com/rust-lang/mdBook/blob/master/CHANGELOG.md#05-migration-guide
<!-- prettier-ignore-end -->
